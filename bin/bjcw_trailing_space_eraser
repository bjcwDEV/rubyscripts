#! /usr/bin/ruby

require 'recls'

Recls.file_search('.', "*.rb", Recls::RECURSIVE).each do |fe|

  lines = IO.readlines fe.path
  lines.each_with_index do |line, index|

    line = line.chomp

    if line =~ /\s$/

      puts "#{fe.search_relative_path}:#{index + 1}: [#{line}]"
    end
  end
end

